Version 4
SHEET 1 1252 680
WIRE 96 80 -32 80
WIRE 320 80 192 80
WIRE 432 80 320 80
WIRE 496 80 432 80
WIRE 768 80 576 80
WIRE 976 80 768 80
WIRE -32 128 -32 80
WIRE 176 160 176 128
WIRE 432 160 432 80
WIRE 768 160 768 80
WIRE 976 160 976 80
WIRE 320 240 320 80
WIRE 320 240 176 240
WIRE -32 288 -32 208
WIRE 432 288 432 224
WIRE 432 288 -32 288
WIRE 464 288 432 288
WIRE 768 288 768 224
WIRE 768 288 464 288
WIRE 976 288 976 240
WIRE 976 288 768 288
WIRE 464 320 464 288
FLAG 464 320 0
SYMBOL voltage -32 112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value {Vin}
SYMBOL nmos 96 128 R270
SYMATTR InstName M1
SYMATTR Value BSC077N12NS3
SYMBOL schottky 448 224 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value MBR20100CT
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL ind 480 96 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {L1}
SYMBOL cap 752 160 R0
SYMATTR InstName C1
SYMATTR Value {C1}
SYMBOL res 960 144 R0
SYMATTR InstName R1
SYMATTR Value {Vo/Io}
SYMBOL voltage 176 144 R0
WINDOW 3 -179 118 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value PULSE(0 15 0 1n 1n {D*Ts} {Ts} 1000)
SYMBOL res 976 416 R0
SYMATTR InstName R2
SYMBOL res 976 528 R0
SYMATTR InstName R3
SYMBOL Opamps\\opamp 1216 496 R0
SYMATTR InstName U1
TEXT -352 -192 Left 2 !.params Vin=24 Vo=5 D={Vo/Vin} fs=100000 Ts={1/fs} L1=9.4e-6 C1=10e-6 Io=3
TEXT -352 -136 Left 2 !.tran 0 10m 0
TEXT -368 -104 Left 2 !.lib opamp.sub
